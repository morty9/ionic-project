<!--
  Generated template for the LaunchListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<!-- HEADER -->
<ion-header>
  <ion-navbar>
    <!-- TOOGLE MENU -->
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Launches</ion-title>
  </ion-navbar>
</ion-header>

<!-- CONTENT -->
<ion-content>

  <!-- CARD WITH COUNTER OF NEXT LAUNCH -->
  <ion-card class='card_counter' *ngIf="upLaunch" (click)="goToDetails(upLaunch)">
    <!-- Card content -->
    <ion-card-content>
      <!-- Grid row -->
      <ion-row>
        <!-- Grid column -->
        <ion-col col-12>
          <h2 class="title_uplaunch first_title">Upcoming Launch</h2>
        </ion-col>
      </ion-row>
      <!-- Grid row -->
      <ion-row>
        <!-- Grid column -->
        <ion-col col-12 align="center">
          <p class="title_uplaunch first_title">
            <ion-icon name="timer" color="light" class='timer_icon'></ion-icon>{{upcoming}}</p>
        </ion-col>
      </ion-row>
      <!-- Grid row -->
      <ion-row>
        <!-- Grid column -->
        <ion-col col-6>
          <h2 class='title_uplaunch'>{{upLaunch.mission_name}}</h2>
        </ion-col>
        <!-- Grid column -->
        <ion-col col-6>
          <h2 class="title_uplaunch">
            <ion-icon name="rocket" color="light" class='timer_icon'></ion-icon>{{ upLaunch.rocket.rocket_name }}</h2>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
  <!-- END OF COUNTER CARD -->

  <!-- CARD LIST OF ALL LAUNCHES -->
  <ion-list *ngFor="let launch of launches" (click)="goToDetails(launch)">
    <ion-card>

      <!-- FIRST ITEM -->
      <ion-item *ngFor="let payload of launch.rocket.second_stage.payloads">
        <!-- Grid -->
        <ion-grid>
          <!-- Grid row -->
          <ion-row>
            <!-- Grid column -->
            <ion-col text-wrap col-7>
              <h2 class="bold_element">{{launch.mission_name}}</h2>
            </ion-col>
            <!-- Grid column -->
            <ion-col col-5>
              <h2 class="bold_element" style="float: right;">{{launch.launch_date_utc | date : "dd/MM/yyyy"}}</h2>
            </ion-col>
          </ion-row>
          <!-- Grid row -->
          <ion-row>
            <!-- Grid column -->
            <ion-col col-4>
              <ion-thumbnail item-start *ngIf="launch.links.mission_patch_small != null">
                <img src="{{launch.links.mission_patch_small}}">
              </ion-thumbnail>
            </ion-col>
            <!-- Grid column -->
            <ion-col col-8 class="col_text">
              <div class="div_text">
                <p text-wrap>Client: {{payload.customers}}</p>
                <p text-wrap>Site: {{launch.launch_site.site_name}}</p>
                <p text-wrap>Rocket: {{launch.rocket.rocket_name}}</p>
              </div>
            </ion-col>
          </ion-row>
          <!-- Grid row -->
          <ion-row>
            <ion-badge class="badge" color="primary">{{payload.orbit}}</ion-badge>
            <ion-badge class="badge" color="primary">{{payload.payload_type}}</ion-badge>
            <ion-badge class="badge" [color]="launch.launch_success ? 'secondary' : 'danger'">{{launch.launch_success ? 'Success' : 'Fail'}}</ion-badge>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-card>
  </ion-list>
</ion-content>